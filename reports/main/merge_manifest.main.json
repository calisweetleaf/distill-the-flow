{
  "version": "2.0.0",
  "operation": "provider_upsert_merge",
  "provider": "deepseek",
  "run_id": "deepseek_20260226_063139",
  "merged_at": "2026-02-27T06:18:00.774815+00:00",
  "dry_run": false,
  "snapshot_path": "archive/main/deepseek_20260226_063139/moonshine_mash_premerge.db",
  "counts": {
    "conversations": {
      "inserted": 320,
      "updated": 0,
      "skipped": 0
    },
    "messages": {
      "inserted": 2073,
      "updated": 0,
      "skipped": 0
    },
    "distilled_conversations": {
      "inserted": 304,
      "updated": 0,
      "skipped": 0
    }
  },
  "token_reconciliation": {
    "provider": "deepseek",
    "run_id": "deepseek_20260226_063139",
    "db_total_tokens": 898650,
    "db_user_tokens": 186764,
    "db_assistant_tokens": 711886,
    "ledger_canonical_tokens": 115330530,
    "delta": -114431880,
    "reconciliation_note": "DB uses word*1.3 heuristic estimation; ledger uses o200k_base exact tiktoken count",
    "source_sha256": "786b4ff4d86da66150bb538aa8dae8bdf6482a520b002765b871c03a297f1d9b",
    "status": "reconciled"
  },
  "gates": {
    "G4": "PASS",
    "G5": "PASS",
    "G6": "PASS",
    "G7": "PASS",
    "all_pass": true
  },
  "gate_detail": {
    "G4_snapshot_exists": true,
    "G4_note": "archive\\main\\deepseek_20260226_063139\\moonshine_mash_premerge.db",
    "G5_counters_non_null": true,
    "G6_idempotence_proof": "UNIQUE record_uid index enforces at storage layer",
    "G7_reconciliation_emitted": true,
    "all_pass": true
  },
  "idempotence_proof": null
}